description: Some tests on cypress todo demo sites
tests:
  - name: Set and delete todo lists
    exclude: false

    arrange:
      - name: openUrl
        url: url

    act:
      - name: enter_todo
        locator: todo_name
        action: type
        value: The first todo item

      - name: press_enter
        pause: 1
        action: press
        value: Enter

      - name: enter_todo
        locator: todo_name
        action: type
        value: The second todo item

      - name: press_enter
        pause: 1
        action: press
        value: Enter

      - name: enter_todo
        locator: todo_name
        action: type
        value: The third todo item

      - name: press_enter
        pause: 1
        action: press
        value: Enter

      - name: hover_to_the_first_item
        locator: todo_label_1
        action: hover

      - name: delete_first_item
        pause: 2
        locator: todo_item_button_1
        action: click

      - name: hover_to_the_second_item
        locator: todo_label_2
        action: hover

      - name: delete_second_item
        pause: 2
        locator: todo_item_button_2
        action: click

      - name: hover_to_the_third_item
        locator: todo_label_3
        action: hover

      - name: delete_third_item
        pause: 2
        locator: todo_item_button_3
        action: click

      - name: Screenshot after deleting item
        pause: 1
        action: snapshot
        path: "src/example/resources/snapshots/original-screenshot.png"     

    assert:
      - name: verify_selection
        pause: 2
        type: text
        text: The first todo item
        state: invisible

      - name: verify_selection
        pause: 2
        type: text
        text: The second todo item
        state: invisible

      - name: verify_selection
        pause: 2
        type: text
        text: The third todo item
        state: invisible
       
      - name: verify_snapshot_after_deleting
        type: snapshot
        original: "src/example/resources/snapshots/original-screenshot.png"
        reference: "src/example/resources/snapshots/reference-screenshot.png"

  - name: Set and delete todos using repeats
    exclude: true
    repeat: 3

    arrange:
      - name: openUrl
        url: https://example.cypress.io/todo#/

    act:
      - name: enter_todo
        id: 2
        locator: todo_name
        action: type
        value: The first todo item

      - name: press_enter
        pause: 1
        action: press
        value: Enter

      - name: enter_todo
        locator: todo_name
        action: type
        value: The second todo item

      - name: press_enter
        pause: 1
        action: press
        value: Enter

      - name: enter_todo
        locator: todo_name
        action: type
        value: The third todo item

      - name: press_enter
        pause: 1
        action: press
        value: Enter

      - name: hover_to_the_first_item
        locator: todo_label_1
        action: hover

      - name: delete_first_item
        pause: 2
        locator: todo_item_button_1
        action: click

      - name: hover_to_the_second_item
        locator: todo_label_2
        action: hover

      - name: delete_second_item
        pause: 2
        locator: todo_item_button_2
        action: click

      - name: hover_to_the_third_item
        locator: todo_label_3
        action: hover

      - name: delete_third_item
        pause: 2
        locator: todo_item_button_3
        action: click        

    assert:
      - name: verify_selection
        pause: 2
        type: text
        text: The first todo item
        state: invisible

      - name: verify_selection
        pause: 2
        type: text
        text: The second todo item
        state: invisible

      - name: verify_selection
        pause: 2
        type: text
        text: The third todo item
        state: invisible