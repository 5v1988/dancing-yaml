tests:
  - name: Login success
    exclude: true
    browser: chrome

    arrange:
      - name: open_url
        base_url: https://dashboard-qa.ninjavan.co/v2/login

    act:
      - name: username
        locator: "[name='email']"
        action: type
        pause: 3
        value: dashqaauto.mailbox@gmail.com

      - name: password
        locator: "[name='password']"
        action: type
        value: Ninjitsu89

      - name: login_button
        locator: "//button[normalize-space()='Login']"
        action: click

    assert:
      - name: login_success
        type: element
        locator: "a[href*='home']"
        state: visible
        path: "~/screenshot.png"

      - name: home_screen
        type: text
        text: Got it!
        state: visible

  - name: Login failure
    exclude: false
    browser: chrome

    arrange:
      - name: open_url
        base_url: https://dashboard-qa.ninjavan.co/v2/login

    act:
      - name: take_landing_page_screenshot
        action: snapshot
        path: "src/snapshots/login/login-landing-original.png"

      - name: username
        locator: "[name='email']"
        action: type
        value: account.mailbox@gmail.com

      - name: password
        locator: "[name='password']"
        action: type
        value: Ninjitsu90

      - name: login_button
        locator: "//button[normalize-space()='Login']"
        action: click

      - name: take_login_error_screenshot
        pause: 1
        action: snapshot
        path: "src/snapshots/login/login-fail-original.png"

    assert:
      - name: login_fail
        type: text
        text: Wrong username or password
        state: visible

      - name: verify_landing_screenshot
        type: snapshot
        original: "src/snapshots/login/login-landing-original.png"
        reference: "src/snapshots/login/login-landing-reference.png"

      - name: login_fail_with_screenshot
        type: snapshot
        original: "src/snapshots/login/login-fail-original.png"
        reference: "src/snapshots/login/chrome-login-fail-reference.png"        